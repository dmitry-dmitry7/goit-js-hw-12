{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\nexport function getImagesByQuery(query) {\n  return axios.get(\"https://pixabay.com/api/\", {\n    params: {\n      key: \"54671046-ae95888271e1d1b9b249768ad\",\n      q: query,\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      safesearch: \"true\",\n      per_page: \"9\"\n\t}\n  })\n    .then(response => {\n      return response.data.hits; \n    })\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst loader = document.querySelector(\".loader\");\nconst gallery = document.querySelector(\"ul.gallery\");\n\nlet galleryShow =  new SimpleLightbox('.gallery a', {captionsData: 'alt', captionDelay: 250});\n\nexport function createGallery(images) {\n  const content = images\n    .map((image) => `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${image.webformatURL}\"\n            alt=\"${image.tags}\"\n          />\n          <div class = \"gallery-text\">\n            <ul class = \"gallery-text-list\">\n              <li><b>Likes</b></li>\n              <li>${image.likes}</li>\n            </ul>\n            <ul class = \"gallery-text-list\">\n              <li><b>Views</b></li>\n              <li>${image.views}</li>\n            </ul>\n            <ul class = \"gallery-text-list\">\n              <li><b>Comments</b></li>\n              <li>${image.comments}</li>\n            </ul>\n            <ul class = \"gallery-text-list\">\n              <li><b>Downloads</b></li>\n              <li>${image.downloads}</li>\n            </ul>                        \n          </div>\n        </a>\n      </li>\n      `)\n    .join(\"\");\n  gallery.innerHTML = content;\n  galleryShow.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"hidden\");\n}\n\nexport function showLoadMoreButton() {}\n\nexport function hideLoadMoreButton() {}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions';\n\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const searchText = event.target.elements[0].value.trim();\n  if(!searchText.length) {\n    iziToast.warning({\n      message: 'The line must not be empty!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();  \n  showLoader();\n  getImagesByQuery(searchText)\n    .then(response => {\n      const images = response; \n      if (images.length === 0) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        createGallery(images);\n      }\n    })\n    .catch(error => {\n  \t  iziToast.error({\n        message: error.message,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n    \n  form.reset();\n}\n\n\n  "],"names":["getImagesByQuery","query","axios","response","loader","gallery","galleryShow","SimpleLightbox","createGallery","images","content","image","clearGallery","showLoader","hideLoader","form","handleSubmit","event","searchText","iziToast","error"],"mappings":"owBAGO,SAASA,EAAiBC,EAAO,CACtC,OAAOC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GAChB,CACA,CAAG,EACE,KAAKE,GACGA,EAAS,KAAK,IACtB,CACL,CCdA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,YAAY,EAEnD,IAAIC,EAAe,IAAIC,EAAe,aAAc,CAAC,aAAc,MAAO,aAAc,GAAG,CAAC,EAErF,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAUD,EACb,IAAKE,GAAU;AAAA;AAAA,wCAEoBA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAGxCA,EAAM,YAAY;AAAA,mBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKTA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,oBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAK5B,EACF,KAAK,EAAE,EACVN,EAAQ,UAAYK,EACpBJ,EAAY,QAAO,CACrB,CAEO,SAASM,GAAe,CAC7BP,EAAQ,UAAY,EACtB,CAEO,SAASQ,GAAa,CAC3BT,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASU,GAAa,CAC3BV,EAAO,UAAU,IAAI,QAAQ,CAC/B,CC/CA,MAAMW,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,CAAC,EAAE,MAAM,KAAI,EACtD,GAAG,CAACC,EAAW,OAAQ,CACrBC,EAAS,QAAQ,CACf,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACF,CAEAP,IACAC,EAAU,EACVb,EAAiBkB,CAAU,EACxB,KAAKf,GAAY,CAChB,MAAMM,EAASN,EACXM,EAAO,SAAW,EACpBU,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EAEDX,EAAcC,CAAM,CAExB,CAAC,EACA,MAAMW,GAAS,CACfD,EAAS,MAAM,CACZ,QAASC,EAAM,QACf,SAAU,UAClB,CAAO,CACH,CAAC,EACA,QAAQ,IAAM,CACbN,EAAU,CACZ,CAAC,EAEHC,EAAK,MAAK,CACZ"}